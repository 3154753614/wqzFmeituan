"use strict";(self["webpackChunkfmeituan"]=self["webpackChunkfmeituan"]||[]).push([[638],{5965:function(t,e,n){function a(t){return{all:t=t||new Map,on:function(e,n){var a=t.get(e);a?a.push(n):t.set(e,[n])},off:function(e,n){var a=t.get(e);a&&(n?a.splice(a.indexOf(n)>>>0,1):t.set(e,[]))},emit:function(e,n){var a=t.get(e);a&&a.slice().map((function(t){t(n)})),(a=t.get("*"))&&a.slice().map((function(t){t(e,n)}))}}}n.d(e,{A:function(){return c}});const i=a();var c=i},6840:function(t,e,n){n.d(e,{A:function(){return h}});var a=n(2360),i=n(9177),c=n(4782);const d=t=>((0,a.Qi)("data-v-1f1f44c5"),t=t(),(0,a.jt)(),t),o={class:"content_item"},l={class:"left"},s=d((()=>(0,a.Lk)("img",{src:c,alt:""},null,-1))),r={class:"text"},u={class:"title"},m={class:"price"};function v(t,e,n,c,d,v){const k=(0,a.g2)("van-checkbox"),f=(0,a.g2)("van-icon"),C=(0,a.g2)("van-stepper");return(0,a.uX)(),(0,a.CE)("div",o,[(0,a.Lk)("div",l,[n.showCheckbox?((0,a.uX)(),(0,a.Wv)(k,{key:0,name:n.item.id,"checked-color":"#ffc400"},null,8,["name"])):(0,a.Q3)("",!0),s,(0,a.Lk)("div",r,[(0,a.Lk)("div",u,(0,i.v_)(n.item.title),1),n.item.add&&n.showAdd?((0,a.uX)(),(0,a.Wv)(f,{key:0,name:"add-o",onClick:e[0]||(e[0]=t=>n.addClick(n.item.id))})):((0,a.uX)(),(0,a.Wv)(C,{key:1,modelValue:n.item.num,"onUpdate:modelValue":e[1]||(e[1]=t=>n.item.num=t),min:0,name:n.item.id,onChange:n.onChange},null,8,["modelValue","name","onChange"]))])]),(0,a.Lk)("div",m,"￥"+(0,i.v_)(n.item.price),1)])}var k={props:["item","onChange","showAdd","addClick","showCheckbox"]},f=n(9874);const C=(0,f.A)(k,[["render",v],["__scopeId","data-v-1f1f44c5"]]);var h=C},4671:function(t,e,n){n.d(e,{A:function(){return k}});var a=n(2360),i=n(9177);const c={class:"header"};function d(t,e,n,d,o,l){const s=(0,a.g2)("van-icon");return(0,a.uX)(),(0,a.CE)("div",c,[(0,a.bF)(s,{name:"arrow-left",class:"icon",onClick:d.toBack},null,8,["onClick"]),(0,a.Lk)("div",null,(0,i.v_)(n.title),1),n.edit?((0,a.uX)(),(0,a.CE)("div",{key:0,class:"edit",onClick:e[0]||(e[0]=(...t)=>d.editClick&&d.editClick(...t))},(0,i.v_)(d.store.state.edit?"编辑":"完成"),1)):(0,a.Q3)("",!0)])}var o=n(5965),l=n(1890),s=n(9294),r=n(4510),u={props:["title","edit"],setup(){const t=(0,s.Pj)(),e=(0,r.rd)(),n=()=>{e.back()},a=()=>{t.state.cartList.length?(t.commit("EDIT"),o.A.emit("edit")):(0,l.P0)({message:"购物车中没有商品",icon:"like-o"})};return{editClick:a,toBack:n,store:t}}},m=n(9874);const v=(0,m.A)(u,[["render",d],["__scopeId","data-v-75140fff"]]);var k=v},2638:function(t,e,n){n.r(e),n.d(e,{default:function(){return D}});var a=n(2360),i=n(9177),c=n(4782);const d=t=>((0,a.Qi)("data-v-003221ee"),t=t(),(0,a.jt)(),t),o={class:"storeDetails"},l={class:"content"},s=d((()=>(0,a.Lk)("div",{class:"img"},null,-1))),r={class:"foodClassify"},u={class:"name"},m=d((()=>(0,a.Lk)("img",{src:c,class:"store_img",alt:""},null,-1))),v={class:"classify"},k={key:1},f={key:2};function C(t,e,n,c,d,C){const h=(0,a.g2)("Header"),p=(0,a.g2)("FoodList"),g=(0,a.g2)("van-tab"),b=(0,a.g2)("van-tabs"),x=(0,a.g2)("van-action-bar-icon"),_=(0,a.g2)("van-action-bar-button"),y=(0,a.g2)("van-action-bar");return(0,a.uX)(),(0,a.CE)("div",o,[(0,a.bF)(h,{title:"店铺"}),(0,a.Lk)("div",l,[s,(0,a.Lk)("div",r,[(0,a.Lk)("div",u,[(0,a.eW)((0,i.v_)(t.title)+" ",1),m]),(0,a.Lk)("div",v,[(0,a.bF)(b,{color:"#ffc400"},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.storeData,((t,e)=>((0,a.uX)(),(0,a.Wv)(g,{key:e,title:t.name},{default:(0,a.k6)((()=>["点菜"==t.name?((0,a.uX)(),(0,a.Wv)(p,{key:0,index:e,foodData:t.data},null,8,["index","foodData"])):"评价"==t.name?((0,a.uX)(),(0,a.CE)("div",k,"评价")):"商家"==t.name?((0,a.uX)(),(0,a.CE)("div",f,"商家")):(0,a.Q3)("",!0)])),_:2},1032,["title"])))),128))])),_:1})])])]),(0,a.bF)(y,null,{default:(0,a.k6)((()=>[(0,a.bF)(x,{icon:"chat-o",text:"客服",onClick:c.service},null,8,["onClick"]),(0,a.bF)(x,{icon:"cart-o",text:"购物车",badge:c.store.state.cartList.length,onClick:c.toCart},null,8,["badge","onClick"]),(0,a.bF)(_,{type:"warning",text:"加入购物车",onClick:c.handleAddCart},null,8,["onClick"]),(0,a.bF)(_,{type:"danger",text:"立即购买",onClick:c.clickBuy},null,8,["onClick"])])),_:1})])}n(381);var h=n(4671);const p={key:0,class:"food_list"};function g(t,e,n,i,c,d){const o=(0,a.g2)("FoodAdd"),l=(0,a.g2)("van-tree-select");return 0==n.index?((0,a.uX)(),(0,a.CE)("div",p,[(0,a.bF)(l,{"main-active-index":t.active,height:"88vw",items:t.items,onClickNav:i.navClick},{content:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.subItem,((t,e)=>((0,a.uX)(),(0,a.CE)("div",{class:"item_bg",key:e},[(0,a.bF)(o,{item:t,showAdd:!0,addClick:i.addClick,onChange:i.onChange},null,8,["item","addClick","onChange"])])))),128))])),_:1},8,["main-active-index","items","onClickNav"])])):(0,a.Q3)("",!0)}var b=n(6408),x=n(6840),_={props:["index","foodData"],components:{FoodAdd:x.A},setup(t){let e=(0,b.Kh)({items:[],active:0,subItem:[]});const n=()=>{let n=[];t.foodData.items.map(((t,a)=>{n.push({text:t.text}),e.active==a&&(e.subItem=t.children)})),e.items=n};n();const a=t=>{e.active=t,n()},i=t=>{e.subItem.forEach((e=>{e.id==t&&(e.add=!1,e.num+=1)}))},c=(t,n)=>{0!=t?e.subItem.forEach((e=>{e.id==n.name&&(e.num=t)})):e.subItem.forEach((t=>{t.id==n.name&&(t.add=!0)}))};return{...(0,b.QW)(e),navClick:a,addClick:i,onChange:c}}},y=n(9874);const A=(0,y.A)(_,[["render",g],["__scopeId","data-v-1812df8a"]]);var E=A,F=n(1890),L=n(4510),X=n(9294),I={components:{Header:h.A,FoodList:E},setup(){let t=(0,b.Kh)({title:"鱼拿酸菜鱼",storeData:[{name:"点菜",data:{content:"点菜",items:[{text:"热销套餐",children:[{title:"招牌酸菜鱼",num:0,price:25,id:0,add:!0},{title:"藤椒酸菜鱼",num:0,price:25,id:1,add:!0}]},{text:"澳洲肥牛",children:[{title:"酸汤肥牛",num:0,price:25,id:3,add:!0},{title:"香辣肥牛",num:0,price:25,id:4,add:!0}]},{text:"超级折扣",children:[{title:"无骨酸菜鱼+肥牛双拼",num:0,price:25,id:5,add:!0},{title:"香辣水煮鱼+肥牛双拼",num:0,price:25,id:6,add:!0}]}]}},{name:"评价",data:{content:"评价"}},{name:"商家",data:{content:"商家"}}]}),e=(0,L.rd)(),n=(0,X.Pj)();const a=()=>{(0,F.P0)("暂无。。。。。")},i=()=>{e.push("/cart")},c=e=>{let a=[];t.storeData[0].data.items.forEach((t=>{t.children.forEach((t=>{t.num>0&&a.push(t)}))})),0!=a.length?(n.commit("addCart",a),"buy"==e&&i()):(0,F.P0)("请选择商品。。。")},d=()=>{c("buy")};return{...(0,b.QW)(t),service:a,toCart:i,handleAddCart:c,clickBuy:d,store:n}}};const w=(0,y.A)(I,[["render",C],["__scopeId","data-v-003221ee"]]);var D=w},4782:function(t,e,n){t.exports=n.p+"img/11.95a78ce2.jpg"}}]);
//# sourceMappingURL=638.c1ba4413.js.map